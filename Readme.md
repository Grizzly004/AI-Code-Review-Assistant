–ü—Ä–æ–µ–∫—Ç: CodeSentinel (AI-Reviewer)
–¶–µ–ª—å: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π "–ø–µ—Ä–≤—ã–π –ø—Ä–æ—Ö–æ–¥" —Ä–µ–≤—å—é –¥–ª—è —Å–Ω—è—Ç–∏—è —Ä—É—Ç–∏–Ω–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ —Å —Å–µ–Ω—å–æ—Ä–æ–≤.

1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –†–µ—à–µ–Ω–∏—è
–ú—ã –Ω–µ –±—É–¥–µ–º –ø—ã—Ç–∞—Ç—å—Å—è "–∑–∞—Å—É–Ω—É—Ç—å –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç" –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç—å (—ç—Ç–æ –¥–æ—Ä–æ–≥–æ –∏ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ). –ú—ã –±—É–¥–µ–º –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–æ—á–µ—á–Ω–æ.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

Backend Service (Python/FastAPI): –°–ª—É—à–∞–µ—Ç –≤–µ–±—Ö—É–∫–∏ GitLab.

GitLab Client: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ python-gitlab –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API.

LLM Brain: OpenAI (GPT-4o) –∏–ª–∏ Anthropic (Claude 3.5 Sonnet) ‚Äî —ç—Ç–∏ –º–æ–¥–µ–ª–∏ –ª—É—á—à–µ –≤—Å–µ–≥–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –∫–æ–¥–æ–º.

Redis (–û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á): –ß—Ç–æ–±—ã –∞–≥–µ–Ω—Ç –Ω–µ "—É–ø–∞–ª", –µ—Å–ª–∏ –ø—Ä–∏–ª–µ—Ç–∏—Ç —Å—Ä–∞–∑—É 10 –±–æ–ª—å—à–∏—Ö MR.

2. –õ–æ–≥–∏–∫–∞ –†–∞–±–æ—Ç—ã (Workflow)
–®–∞–≥ 1: –¢—Ä–∏–≥–≥–µ—Ä –∏ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
–ü–æ–ª—É—á–∞–µ–º Webhook Merge Request Event.

–§–∏–ª—å—Ç—Ä: –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —á–µ—Ä–Ω–æ–≤–∏–∫–∏ (Draft:) –∏ MR –æ—Ç —Å–∞–º–æ–≥–æ –±–æ—Ç–∞ (—á—Ç–æ–±—ã –Ω–µ –∑–∞—Ü–∏–∫–ª–∏—Ç—å).

–§–∏–ª—å—Ç—Ä —Ñ–∞–π–ª–æ–≤: –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã (package-lock.json, dist/, –∫–∞—Ä—Ç–∏–Ω–∫–∏), —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ç–æ–∫–µ–Ω—ã.

–®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ "–£–º–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞" (Smart Diff)
–í–º–µ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞ –º—ã –±–µ—Ä–µ–º git diff.

–ü—Ä–æ–±–ª–µ–º–∞: Diff —á–∞—Å—Ç–æ –Ω–µ –¥–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ–∫—Ä—É–≥.

–†–µ—à–µ–Ω–∏–µ: –ú—ã –≤—ã–≥—Ä—É–∂–∞–µ–º diff + 10 —Å—Ç—Ä–æ–∫ —Å–≤–µ—Ä—Ö—É/—Å–Ω–∏–∑—É –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–π —Å–µ–∫—Ü–∏–∏.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –°–∫–∞—á–∏–≤–∞–µ–º Title –∏ Description MR, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á—É.

–®–∞–≥ 3: –ê–Ω–∞–ª–∏–∑ (–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
–ú—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ LLM. –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–Ω–æ–≥–æ, –±—å–µ–º –∏—Ö –Ω–∞ —á–∞–Ω–∫–∏ (Chunks).

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ LLM:

Role: "–¢—ã ‚Äî —Å—Ç—Ä–æ–≥–∏–π Senior Tech Lead. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –ø–ª–æ—Ö–æ–π –∫–æ–¥."

Context: –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∏–∑ MR.

Input: –§—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞ (Diff).

Output: –°—Ç—Ä–æ–≥–∏–π JSON.

–®–∞–≥ 4: –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∏ –î–µ–π—Å—Ç–≤–∏—è
–ê–≥–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã –æ—Ç LLM –∏ –¥–µ–ª–∞–µ—Ç –≤—ã–≤–æ–¥—ã:

–ï—Å—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏? -> –°—Ç–∞–≤–∏—Ç –º–µ—Ç–∫—É ‚ö†Ô∏è bot-reject. –ü–∏—à–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "–ù–∞–π–¥–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, –±–ª–æ–∫–∏—Ä—É—é –º–µ—Ä–∂".

–ï—Å—Ç—å –º–µ–ª–∫–∏–µ –Ω–µ–¥–æ—á–µ—Ç—ã? -> –°—Ç–∞–≤–∏—Ç –º–µ—Ç–∫—É üëÄ bot-needs-work. –û—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å—Ç—Ä–æ–∫–∞–º (inline comments).

–í—Å—ë —á–∏—Å—Ç–æ? -> –°—Ç–∞–≤–∏—Ç –º–µ—Ç–∫—É ‚úÖ bot-approved. –ü–∏—à–µ—Ç: "–†—É—Ç–∏–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ –Ω–µ—Ç, –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ —á–µ–ª–æ–≤–µ–∫–æ–º".

3. "–°–µ—Ä–¥—Ü–µ" –ê–≥–µ–Ω—Ç–∞: –°–∏—Å—Ç–µ–º–Ω—ã–π –ü—Ä–æ–º–ø—Ç (System Prompt)
–≠—Ç–æ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ. –û—Ç –ø—Ä–æ–º–ø—Ç–∞ –∑–∞–≤–∏—Å–∏—Ç, –±—É–¥–µ—Ç –ª–∏ –∞–≥–µ–Ω—Ç –ø–æ–ª–µ–∑–Ω—ã–º –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–ø–∞–º–∏—Ç—å.

System Prompt: "–¢—ã ‚Äî AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è Code Review. –¢–≤–æ—è —Ü–µ–ª—å ‚Äî –ø–æ–º–æ—á—å Senior-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–≤ –æ—á–µ–≤–∏–¥–Ω—ã–µ –æ—à–∏–±–∫–∏.

–¢–≤–æ–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏, XSS, —Ö–∞—Ä–¥–∫–æ–¥ –ø–∞—Ä–æ–ª–µ–π/—Ç–æ–∫–µ–Ω–æ–≤.

–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: N+1 –∑–∞–ø—Ä–æ—Å—ã, –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã O(n^2), —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏.

–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å: –ù–∞–∑–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–π (Cognitive Complexity).

–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–¥–∞—á–µ: –°—Ä–∞–≤–Ω–∏ –∫–æ–¥ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º MR.
